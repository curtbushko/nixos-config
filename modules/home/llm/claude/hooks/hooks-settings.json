{
  "$schema": "https://claude.ai/settings-schema.json",
  "$comment": "Example Claude Code hooks configuration - merge into ~/.claude/settings.json or .claude/settings.json",

  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "# Block dangerous commands\nINPUT=$(cat)\nCMD=$(echo \"$INPUT\" | jq -r '.tool_input.command // empty')\nif echo \"$CMD\" | grep -qE 'rm -rf /|:(){ :|:& };:|> /dev/sda'; then\n  echo 'Blocked: Dangerous command detected' >&2\n  exit 2\nfi\nexit 0",
            "timeout": 5
          }
        ]
      }
    ],

    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "# Check for emojis in written/edited files\nINPUT=$(cat)\nFILE=$(echo \"$INPUT\" | jq -r '.tool_input.file_path // empty')\nif [ -n \"$FILE\" ] && [ -f \"$FILE\" ]; then\n  if echo \"$FILE\" | grep -qE '\\.(go|js|ts|py|rs|sh|bash|nix)$'; then\n    if grep -P '[\\x{1F600}-\\x{1F64F}\\x{1F300}-\\x{1F5FF}\\x{1F680}-\\x{1F6FF}\\x{2600}-\\x{26FF}]' \"$FILE\" 2>/dev/null; then\n      echo \"Warning: File contains emojis. Use Nerd Font icons instead.\" >&2\n    fi\n  fi\nfi\nexit 0",
            "timeout": 10
          }
        ]
      }
    ],

    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "# Reminder to run quality gates before finishing\necho 'Reminder: Run quality-gates.sh before committing'",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
